<div
	*ngIf="
		getProducts() as productFtomTemplate;
		else loaderTemplateRef;
		let productFtomImplicit
	"
	appScrollWithLoading
	class="scroll-container"
	(loadData)="onLoadData($event)"
>
	<ng-container
		*appPagination="
			let product of productFtomTemplate;
			countProductOnPage: 4;
			let pageCount = pageCount;
			let currentProductGroup = currentProductGroup;
			let next = next;
			let prev = prev
		"
	>
		<app-card
			*ngFor="let productItem of currentProductGroup; trackBy: trackById"
			class="card"
			[product]="productItem"
		>
		</app-card>
		<div class="pagination-container">
			<button (click)="prev()">Prev</button>
			<button *ngFor="let index of pageCount">{{ index + 1 }}</button>
			<button (click)="next()">Next</button>
		</div>
	</ng-container>
</div>

<ng-template #loaderTemplateRef>
	<mat-spinner class="loader"></mat-spinner>
</ng-template>
