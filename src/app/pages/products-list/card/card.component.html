<mat-card class="card">
	<mat-card-header>
		<mat-card-title>{{ product?.name }}</mat-card-title>
		<mat-card-subtitle>{{ product?.price }} $</mat-card-subtitle>
	</mat-card-header>

	<div
		*appPagination="
			let item of product?.images as items;
			let i = index;
			empty: empty;
			let ctrl = controller
		"
		class="gallery-wrapper"
	>
		<div class="gallery">
			<button mat-icon-button (click)="ctrl.prev()">
				<mat-icon> chevron_left </mat-icon>
			</button>

			<img mat-card-image alt="Product photo" [src]="item.url" />

			<button mat-icon-button (click)="ctrl.next()">
				<mat-icon> chevron_right </mat-icon>
			</button>
		</div>
		<div class="gallery-pagination">
			<div
				*ngFor="let el of items; let ind = index"
				[class]="
					i === ind
						? 'active gallery-pagination-item'
						: 'gallery-pagination-item'
				"
				(click)="ctrl.toItem(ind)"
			></div>
		</div>
	</div>
	<ng-template #empty>Empty Directive...</ng-template>

	<mat-card-content>
		<p>Отзывы: {{ product?.feedbacksCount }}</p>
		<div class="raiting">
			Рейтинг:
			<mat-icon [class.star-active]="isStarActive(1)"> star </mat-icon>
			<mat-icon [class.star-active]="isStarActive(2)"> star </mat-icon>
			<mat-icon [class.star-active]="isStarActive(3)"> star </mat-icon>
			<mat-icon [class.star-active]="isStarActive(4)"> star </mat-icon>
			<mat-icon [class.star-active]="isStarActive(5)"> star </mat-icon>
		</div>
	</mat-card-content>
	<mat-card-actions class="mat-card-actions-align-end">
		<button mat-button (click)="onProductBuy($event)">Buy</button>
	</mat-card-actions>
</mat-card>
